<!DOCTYPE html>
<html>
<head>
<title>Fetch JSON Data with AJAX</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

</head>
<body>
<h1>Fetch JSON Data with AJAX</h1>
<button id="fetchBooks">Fetch Books</button>
<div id="bookList"></div>
<script>
    function fetchBooks() {
      $.ajax({
        url: "https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=T1mNgUfACBR5iy1tVne2Eu89LvbCVcMo",
        type: "GET",
        dataType: "json",
        success: function(data) {
          displayBooks(data);
        },
        error: function(error) {
          console.log(error);
        }
      });
    }
    
    function displayBooks(data) {
        console.log(data)
      var bookList = document.getElementById("bookList");
    
      data.results['books'].forEach(element => {
        console.log(element)
        var bookItem = document.createElement("li");
        bookItem.textContent = element.title + " by "+ element.author;
        bookList.appendChild(bookItem);
      });
    }
    
    
    $(document).ready(function() {
      $("#fetchBooks").click(fetchBooks);
    });
    </script>
</body>
</html>
